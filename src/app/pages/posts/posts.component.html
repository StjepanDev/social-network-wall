<div class="container">
    <div class="content-wrapper">
        <mat-form-field>
            <textarea matInput [(ngModel)]="text" cdkTextareaAutosize [cdkAutosizeMinRows]="5" placeholder="Say Something"></textarea>
        </mat-form-field>
        <div class="new-post-actions-container">
            <button (click)="post()" mat-raised-button class="post-button">Post</button>
            <mat-form-field>
                <ngx-mat-file-input class="image-input" #removableInput placeholder="Upload your image" (change)="onFileSelected($event)"></ngx-mat-file-input>
                <button mat-icon-button matSuffix *ngIf="!removableInput.empty" (click)="removableInput.clear($event)">
                    <mat-icon>Clear</mat-icon>
                </button>
            </mat-form-field>
        </div>
        <mat-card class="post-card" *ngFor="let post of posts">
            <mat-card-header>
                <mat-card-title>
                    {{post.username}}
                </mat-card-title>
            </mat-card-header>
            <img [src]="post.imageURL" alt="image" mat-card-image>
            <mat-card-content>
                <p>
                {{post.text}}
                </p>
            </mat-card-content>
            <mat-card-actions>
                <button class="like-button" mat-icon-button disableRipple="true">
                    <mat-icon>favorite_border</mat-icon>
                </button> <span>{{post.likes.length}} liked it</span>
            </mat-card-actions>
            <div class="comments-container">
                <div class="comments">
                    <div class="title">
                        Comments
                    </div>
                    <p *ngFor="let comment of post.comments"><b>{{comment.username}}:</b> {{comment.comment}}</p>
                </div>
                <div class="comment-input">
                    <mat-form-field class="comment-form-field">
                        <input type="text" matInput placeholder="">
                    </mat-form-field>
                    <button class="comment-button" mat-button>Comment</button>
                </div>
            </div>
        </mat-card>
    </div>
</div>
